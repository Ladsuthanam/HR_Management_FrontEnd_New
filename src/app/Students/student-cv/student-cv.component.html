<div class="container-fluid mt-5">
  <div class="row">
    <!-- Left Column: Personal Details -->
    <div class="col-lg-4 mb-4">
      <div class="card p-4 shadow-sm border-5 text-center">
        <img
          [src]="student.image || 'https://via.placeholder.com/150'"
          alt="Profile Image"
          class="img-thumbnail mx-auto mb-3"
          style="width: 120px; height: 120px; border-radius: 50%;"
        />
        <h3 class="text-primary">{{ student.firstName }} {{ student.lastName }}</h3>
        <p class="text-muted">Student ID: {{ student.studentId }}</p>
        <hr>
        <p><i class="bi bi-envelope-fill"></i> {{ student.email }}</p>
        <p><i class="bi bi-telephone-fill"></i> {{ student.mobile }}</p>
        <p><i class="bi bi-calendar-fill"></i> {{ student.dateOfBirth }}</p>
        <p><i class="bi bi-gender-ambiguous"></i> {{ student.gender }}</p>
        <p><strong>Marital Status:</strong> {{ student.maritalStatus }}</p>
      </div>

      <div class="mt-4">
        <!-- Parent Details -->
        <div *ngIf="student.parents?.length">
          <h2>Parents Details</h2>
          <div *ngFor="let parent of student.parents">
            <p><strong>Name:</strong> {{ student.parent.firstName }} {{ parent.lastName }}</p>
            <p><strong>Job:</strong> {{ parent.job }}</p>
            <p><strong>Contact No:</strong> {{ parent.contactNo }}</p>
            <p><strong>Address:</strong> {{ parent.address }}</p>
          </div>
        </div>
        
        <!-- Add Parent Button (opens modal) -->
        <button
          class="btn btn-outline-primary btn-sm w-100 mt-3"
          (click)="openModal()"
        >
          <i class="bi bi-people-fill me-1"></i> + Add Parent Details
        </button>
      </div>
    </div>

    <!-- Right Column: Qualifications and Other Details -->
    <div class="col-lg-8">
      <div class="card p-4 shadow-sm border-0">
        <h4 class="text-danger">Educational Qualifications</h4>
        <hr>
        <!-- Educational details here (same as before) -->
      </div>
    </div>
  </div>

  <!-- Parents Modal -->
  <div class="modal fade" id="ParentsModal" tabindex="-1" aria-labelledby="ParentsModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="ParentsModalLabel">Add Parent Details</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form [formGroup]="parentsForm" (ngSubmit)="onSubmitParent()">
            <div *ngFor="let field of parentsFields">
              <div class="mb-3">
                <label class="form-label">{{ field.label }}</label>
                <input
                  type="text"
                  class="form-control"
                  [placeholder]="field.placeholder"
                  [formControlName]="field.controlName"
                />
                <div *ngIf="isInvalid(field.controlName)" class="text-danger">
                  This field is required.
                </div>
              </div>
            </div>
            <button type="submit" class="btn btn-primary w-100" [disabled]="parentsForm.invalid">
              Submit
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>

</div>
