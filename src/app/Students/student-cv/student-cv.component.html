<div class="container-fluid mt-5">
  <div class="row">
    <!-- Left Column: Personal Details -->
    <div class="col-lg-4 mb-4">
      <div class="card p-4 shadow-sm border-0 text-center">
        <img
          [src]="student.image || 'https://via.placeholder.com/150'"
          alt="Profile Image"
          class="img-thumbnail mx-auto mb-3"
          style="width: 120px; height: 120px; border-radius: 50%;"
        />
        <h3 class="text-primary">{{ student.firstName }} {{ student.lastName }}</h3>
        <p class="text-muted">Student ID: {{ student.studentId }}</p>
        <hr>
        <p><i class="bi bi-envelope-fill"></i> {{ student.email }}</p>
        <p><i class="bi bi-telephone-fill"></i> {{ student.mobile }}</p>
        <p><i class="bi bi-calendar-fill"></i> {{ student.dateOfBirth }}</p>
        <p><i class="bi bi-gender-ambiguous"></i> {{ student.gender }}</p>
        <p><strong>Marital Status:</strong> {{ student.maritalStatus }}</p>
      </div>

      <div class="mt-4">
        <div *ngIf="studentData.parents">
          <h4><u class="text-danger">Parent Details</u></h4>
          <p><strong>Name: </strong>{{ studentData.parents.firstName }} {{ studentData.parents.lastName }}</p>
          <p><strong>Job: </strong>{{ studentData.parents.job }}</p>
          <p><strong>Contact: </strong>{{ studentData.parents.contactNo }}</p>
          <p><strong>Address: </strong>{{ studentData.parents.address }}</p>
        </div>

        <button class="btn btn-outline-primary btn-sm w-100 mb-2" data-bs-toggle="modal"
          data-bs-target="#ParentsModal">
          <i class="bi bi-people-fill me-1"></i> + Add Parents
        </button>
      
        <div *ngIf="studentData.address; else noAddress">
          <h4><u class="text-danger">Address</u></h4>

          <p><strong>House Number:</strong> {{ studentData.address.houseNumber }}</p>
          <p><strong>Street:</strong> {{ studentData.address.street }}</p>
          <p><strong>Lane:</strong> {{ studentData.address.lane }}</p>
          <p><strong>City:</strong> {{ studentData.address.city }}</p>
          <p><strong>State:</strong> {{ studentData.address.state }}</p>
          <p><strong>Postal Code:</strong> {{ studentData.address.postalCode }}</p>
          <p><strong>Country:</strong> {{ studentData.address.country }}</p>
          <!-- Edit Address Button -->
          <button class="btn btn-outline-primary btn-sm w-100 mt-3" data-bs-toggle="modal"
            data-bs-target="#Address">
            <i class="bi bi-geo-alt-fill me-1"></i> Edit Address
          </button>
        </div>

        <!-- Show when no address data exists -->
        <ng-template #noAddress>
          <button class="btn btn-outline-primary btn-sm w-100 mt-3" data-bs-toggle="modal"
            data-bs-target="#Address" data-bs-dismiss="modal">
            <i class="bi bi-geo-alt-fill me-1"></i> + Add Address
          </button>
        </ng-template>
      </div>
    </div>


    <!-- Right Column: Qualifications and Other Details -->
  <div class="col-lg-8">
    <div class="card p-4 shadow-sm border-0">
        <h4 class="text-danger">Educational Qualifications</h4>
        <hr>
        <div *ngIf="studentData.olQualification; else noOl">
          <h5>O-Level</h5>
          <p><strong>Year:</strong> {{ studentData.olQualification.year }}</p>
          <p><strong>School:</strong> {{ studentData.olQualification.school }}</p>
          <p><strong>Tamil:</strong> {{ studentData.olQualification.tamil }}</p>
          <p><strong>Science:</strong> {{ studentData.olQualification.science }}</p>
          <p><strong>Mathematics:</strong> {{ studentData.olQualification.maths }}</p>
          <p><strong>Religion:</strong> {{ studentData.olQualification.religion }}</p>
          <p><strong>English:</strong> {{ studentData.olQualification.english }}</p>
          <p><strong>History:</strong> {{ studentData.olQualification.history }}</p>
          <p><strong>Basket 1:</strong> {{ studentData.olQualification.basket1 }}</p>
          <p><strong>Basket 2:</strong> {{ studentData.olQualification.basket2 }}</p>
          <p><strong>Basket 3:</strong> {{ studentData.olQualification.basket3 }}</p>
          <button class="btn btn-outline-primary btn-sm">Edit O-Level</button>
        </div>
        
        <ng-template #noOl>
          <p class="text-muted">No O-Level qualification data.</p>
        </ng-template>
      </div>

    </div>
 </div>


<!--***********************************************************************************************************-->
<!-- Parents Modal -->
<!-- <div class="modal fade" id="ParentsModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <form [formGroup]="parentsForm" (ngSubmit)="saveData(parentsForm, 'parents')">
        <div class="modal-header">
          <h5 class="modal-title">Add Parents</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="firstName" class="form-label">First Name</label>
            <input type="text" id="firstName" class="form-control" formControlName="firstName" />
          </div>
          <div class="mb-3">
            <label for="lastName" class="form-label">Last Name</label>
            <input type="text" id="lastName" class="form-control" formControlName="lastName" />
          </div>
          <div class="mb-3">
            <label for="job" class="form-label">Job</label>
            <input type="text" id="job" class="form-control" formControlName="job" />
          </div>
          <div class="mb-3">
            <label for="contactNo" class="form-label">Contact Number</label>
            <input type="text" id="contactNo" class="form-control" formControlName="contactNo" />
          </div>
          <div class="mb-3">
            <label for="address" class="form-label">Address</label>
            <input type="text" id="address" class="form-control" formControlName="address" />
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Save Changes</button>
        </div>
      </form>
    </div>
  </div>
</div> -->

<!-- Address Modal -->
<!-- <div class="modal fade" id="Address" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <form [formGroup]="addressForm" (ngSubmit)="saveAddress()">
        <div class="modal-header">
          <h5 class="modal-title">Add Address</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3" *ngFor="let field of addressFields">
            <label [for]="field.id" class="form-label">{{ field.label }}</label>
            <input type="text" [id]="field.id" class="form-control" [placeholder]="field.placeholder"
              [formControlName]="field.id" />
            <div *ngIf="addressForm.get(field.id)?.invalid && addressForm.get(field.id)?.touched" class="text-danger">
              {{ field.error }}
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="submit" class="btn btn-primary" [disabled]="addressForm.invalid"
            data-bs-dismiss="modal">Save</button>
        </div>
      </form>
    </div>
  </div>
</div> -->


<!-- AL Qualification Modal -->
<!-- <div class="modal fade" id="AlQualification" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <form [formGroup]="alQualificationForm" (ngSubmit)="saveAlQualification()">
          <div class="mb-3">
            <label for="indexNo" class="form-label">Index No</label>
            <input type="text" id="indexNo" class="form-control" formControlName="indexNo" />
          </div>
          <div class="mb-3">
            <label for="year" class="form-label">Year</label>
            <input type="text" id="year" class="form-control" formControlName="year" />
          </div>
          <div class="mb-3">
            <label for="school" class="form-label">School</label>
            <input type="text" id="school" class="form-control" formControlName="school" />
          </div>
          <div class="mb-3">
            <label for="stream" class="form-label">Stream</label>
            <input type="text" id="stream" class="form-control" formControlName="stream" />
          </div>
          <div class="mb-3">
            <label for="subject1" class="form-label">Subject 1</label>
            <input type="text" id="subject1" class="form-control" formControlName="subject1" />
          </div>
          <div class="mb-3">
            <label for="subject2" class="form-label">Subject 2</label>
            <input type="text" id="subject2" class="form-control" formControlName="subject2" />
          </div>
          <div class="mb-3">
            <label for="subject3" class="form-label">Subject 3</label>
            <input type="text" id="subject3" class="form-control" formControlName="subject3" />
          </div>
          <div class="mb-3">
            <label for="generalEnglish" class="form-label">General English</label>
            <input type="text" id="generalEnglish" class="form-control" formControlName="generalEnglish" />
          </div>
          <div class="mb-3">
            <label for="generalKnowledge" class="form-label">General Knowledge</label>
            <input type="text" id="generalKnowledge" class="form-control" formControlName="generalKnowledge" />
          </div>
          <div class="mb-3">
            <label for="git" class="form-label">Git</label>
            <input type="text" id="git" class="form-control" formControlName="git" />
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" (click)="saveAlQualification()" data-bs-dismiss="modal">Save
          Changes</button>
      </div>
    </div>
  </div>
</div> -->

<!-- O-Level Qualification Modal -->
<!-- <div class="modal fade" id="olQualification" tabindex="-1" aria-labelledby="olQualificationLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="olQualificationLabel">O-Level Qualification</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="olQualificationForm">
          <div class="mb-3" *ngFor="let field of olQualificationForm.controls | keyvalue">
            <label class="form-label">{{ field.key | titlecase }}</label>
            <input type="text" [formControlName]="field.key" class="form-control" placeholder="Enter {{ field.key }}" />
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" [disabled]="olQualificationForm.invalid"
          (click)="saveQualification()" data-bs-dismiss="modal">Save changes</button>
      </div>
    </div>
  </div>
</div> -->


<!-- Higher Study Modal -->
<!-- <div class="modal fade" id="HigherStudy" tabindex="-1" aria-labelledby="higherStudyLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="higherStudyLabel">Higher Study</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="higherStudyForm">
          <div class="mb-3" *ngFor="let field of higherStudyFields">
            <label class="form-label">{{ field.label }}</label>
            <input type="text" [formControlName]="field.id" class="form-control"
              [placeholder]="'Enter ' + field.label" />
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" [disabled]="higherStudyForm.invalid" (click)="saveHigherStudy()"
          data-bs-dismiss="modal">Save changes</button>
      </div>
    </div>
  </div>
</div> -->

<!-- Experience Modal -->
<!-- <div class="modal fade" id="Experience" tabindex="-1" aria-labelledby="experienceLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="experienceLabel">Experience</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="experienceForm">
          <div class="mb-3" *ngFor="let field of experienceFields">
            <label class="form-label">{{ field.label }}</label>
            <input type="text" [formControlName]="field.id" class="form-control"
              [placeholder]="'Enter ' + field.label" />
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" [disabled]="experienceForm.invalid" (click)="saveExperience()"
          data-bs-dismiss="modal">Save changes</button>
      </div>
    </div>
  </div>
</div> -->